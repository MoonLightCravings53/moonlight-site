<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Moonlight Vault | Owner</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <style>
        body { background: #fce4ec; font-family: sans-serif; padding: 40px; color: #4a148c; }
        h1 { color: #b76e79; text-align: center; letter-spacing: 2px; }
        #orders-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 20px; max-width: 1200px; margin: auto; }
        .order-card { background: white; border-radius: 20px; padding: 25px; border-top: 6px solid #b76e79; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .label { display: block; font-size: 0.7rem; color: #b76e79; font-weight: bold; text-transform: uppercase; margin-top: 10px; }
        .btn-call { display: block; width: 100%; padding: 12px; background: #2ecc71; color: white; text-align: center; text-decoration: none; border-radius: 12px; font-weight: bold; margin-top: 15px; }
    </style>
</head>
<body>
    <h1>MOONLIGHT VAULT üåô</h1>
    <div id="orders-grid">Loading Cloud Data...</div>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBLvz14iffabRCLRc3FuDvqhCvN5qs3a84",
            authDomain: "moonlight-cravings.firebaseapp.com",
            projectId: "moonlight-cravings",
            storageBucket: "moonlight-cravings.firebasestorage.app",
            messagingSenderId: "222974574228",
            appId: "1:222974574228:web:47bed645deedf5788bbe81"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        db.collection("orders").orderBy("timestamp", "desc").onSnapshot(snap => {
            const grid = document.getElementById('orders-grid');
            grid.innerHTML = snap.docs.map(doc => {
                const o = doc.data();
                return `<div class="order-card">
                    <div style="font-weight:bold; font-size:1.2rem; color:#b76e79;">${o.item}</div>
                    <span class="label">Customer</span><div>${o.name}</div>
                    <span class="label">Phone</span><div>+91 ${o.phone}</div>
                    <span class="label">üìç Address</span><div style="font-size:0.9rem;">${o.address}</div>
                    <a href="tel:${o.phone}" class="btn-call">üìû CALL CUSTOMER</a>
                </div>`;
            }).join('');
        });
    </script>
</body>
</html>
