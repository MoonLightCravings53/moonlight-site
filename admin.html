<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Moonlight Vault | Owner Management</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <style>
        body { background: #fce4ec; font-family: 'Segoe UI', sans-serif; padding: 20px; color: #4a148c; }
        .container { max-width: 900px; margin: auto; }
        .order-card { background: white; padding: 25px; border-radius: 20px; margin-bottom: 20px; border-left: 10px solid #b76e79; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .label { color: #b76e79; font-size: 0.75rem; font-weight: bold; text-transform: uppercase; display: block; margin-bottom: 5px; }
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .data-box { background: #fff1f5; padding: 10px; border-radius: 10px; border: 1px solid #fce4ec; }
        h1 { text-align: center; color: #b76e79; margin-bottom: 40px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Moonlight Live Orders üåô</h1>
        <div id="orders-list">Connecting to Cloud Vault...</div>
    </div>

    <script>
        const firebaseConfig = {
          apiKey: "AIzaSyBLvz14iffabRCLRc3FuDvqhCvN5qs3a84",
          authDomain: "moonlight-cravings.firebaseapp.com",
          projectId: "moonlight-cravings",
          storageBucket: "moonlight-cravings.firebasestorage.app",
          messagingSenderId: "222974574228",
          appId: "1:222974574228:web:47bed645deedf5788bbe81",
          measurementId: "G-MGJQD332QD"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Listen for data in real-time
        db.collection("orders").orderBy("timestamp", "desc").onSnapshot(snapshot => {
            const list = document.getElementById('orders-list');
            if(snapshot.empty) {
                list.innerHTML = "<p style='text-align:center; opacity:0.5;'>No orders in the vault yet.</p>";
                return;
            }
            
            list.innerHTML = snapshot.docs.map(doc => {
                const o = doc.data();
                const time = o.timestamp ? o.timestamp.toDate().toLocaleString() : "Just now";
                return `
                    <div class="order-card">
                        <div style="margin-bottom: 15px;">
                            <span class="label">Item Requested</span>
                            <strong style="font-size: 1.2rem;">${o.item}</strong>
                        </div>
                        <div class="info-grid">
                            <div class="data-box"><span class="label">Customer Name</span>${o.name}</div>
                            <div class="data-box"><span class="label">Phone Number</span>+91 ${o.phone}</div>
                            <div class="data-box"><span class="label">Gmail</span>${o.email || 'N/A'}</div>
                            <div class="data-box"><span class="label">Order Time</span>${time}</div>
                        </div>
                        <div class="data-box" style="margin-top:15px;">
                            <span class="label">üìç Delivery Address</span>
                            ${o.address}
                        </div>
                    </div>
                `;
            }).join('');
        });
    </script>
</body>
</html>



